<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Cravers — Warm Food Delivered Fast</title>

<!-- Bootstrap -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<!-- Font Awesome -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
<!-- AOS (animate on scroll) -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" rel="stylesheet">

<style>
  :root{
    --bg:#050306;
    --panel:#0b0b0d;
    --muted:#dcd7d2;
    --gold:#c99d2d;
    --accent:#FF7A1A;
    --glass: rgba(255,255,255,0.03);
    --radius:14px;
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, Arial;
  }
  *{box-sizing:border-box}
  body{margin:0;background:linear-gradient(180deg,var(--bg),#070607);color:var(--muted);-webkit-font-smoothing:antialiased;}
  a{text-decoration:none;color:inherit}
  .container{max-width:1100px;margin:32px auto;padding:20px}

  /* NAV */
  .nav-panel{display:flex;align-items:center;gap:16px}
  .logo-badge{width:56px;height:56px;border-radius:12px;background:linear-gradient(90deg,var(--accent),var(--gold));display:grid;place-items:center;color:#0b0b0b;font-weight:800;box-shadow:0 8px 30px rgba(0,0,0,0.6)}
  .brand h1{margin:0;font-size:20px}
  .brand p{margin:0;color:rgba(220,215,210,0.75);font-size:13px}

  .top-actions{margin-left:auto;display:block;gap:10px;align-items:center}

  /* Hero */
  .hero{display:grid;grid-template-columns:1fr 440px;gap:28px;align-items:center;margin-top:18px}
  .hero-card{background:linear-gradient(180deg,var(--panel), rgba(255,255,255,0.01));padding:28px;border-radius:18px;border:1px solid rgba(255,255,255,0.02);box-shadow:0 18px 60px rgba(0,0,0,0.6)}
  .hero h2{font-size:34px;margin:0 0 8px}
  .hero p{margin:0;color:rgba(220,215,210,0.85)}

  .btn-gold{background:linear-gradient(90deg,var(--accent),var(--gold));border:none;color:#0b0b0b;padding:12px 18px;border-radius:12px;font-weight:700}
  .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:10px 14px;border-radius:12px;color:var(--muted)}

  /* Food card */
  .food-card{background:transparent;border-radius:12px;padding:12px;display:flex;flex-direction:column;align-items:center;gap:12px}
  .food-card img{width:100%;border-radius:12px;object-fit:cover;max-height:260px}
  .food-label{display:flex;justify-content:space-between;width:100%;align-items:center}

  /* Menu */
  .menu{margin-top:28px}
  .menu-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}
  .menu-item{background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.02);display:flex;justify-content:space-between;align-items:center;gap:12px;transition:transform .18s}
  .menu-item:hover{transform:translateY(-6px);box-shadow:0 30px 60px rgba(0,0,0,0.6)}
  .menu-item .meta{max-width:70%}
  .menu-item h5{margin:0}
  .menu-item .small{color:rgba(220,215,210,0.75)}

  .price{font-weight:800;color:var(--accent)}

  /* Form */
  .form-panel{margin-top:28px;background:linear-gradient(180deg,var(--panel), rgba(255,255,255,0.01));padding:18px;border-radius:12px;border:1px solid rgba(255,255,255,0.02)}
  .form-row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
  input,textarea,select{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted);padding:10px;border-radius:8px}
  textarea{min-height:90px}
  .label-small{font-size:13px;color:rgba(220,215,210,0.8);margin-bottom:6px}

  strong{color:white}

  /* Testimonials */
  .testimonials .card{background:rgba(255,255,255,0.02);border-radius:12px;padding:14px;border:1px solid rgba(255,255,255,0.02)}

  /* Gallery */
  .gallery-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;margin-top:12px}
  .gallery-grid img{width:100%;height:120px;object-fit:cover;border-radius:8px}

  /* Floating actions */
  .floating{position:fixed;right:18px;bottom:18px;display:flex;flex-direction:column;gap:12px;z-index:1400}
  .fab{width:56px;height:56px;border-radius:12px;display:grid;place-items:center;background:linear-gradient(90deg,var(--accent),var(--gold));color:#0b0b0b;font-weight:700;box-shadow:0 12px 40px rgba(0,0,0,0.6);cursor:pointer;border:none}
  .fab.ghost{background:rgba(255,255,255,0.03);color:var(--muted);border:1px solid rgba(255,255,255,0.04)}

  /* Track order */
  .track-card{background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,0.02)}

  /* Toast */
  .toast{position:fixed;left:50%;transform:translateX(-50%);bottom:28px;padding:12px 18px;border-radius:12px;background:var(--panel);border:1px solid rgba(255,255,255,0.02);box-shadow:0 18px 50px rgba(0,0,0,0.6);display:none;z-index:1500}
 


  
  /* responsive */
  @media(max-width:992px){
    .hero{grid-template-columns:1fr;gap:18px}
    .menu-grid{grid-template-columns:1fr}
    .gallery-grid{grid-template-columns:repeat(2,1fr)}
    .form-row{grid-template-columns:1fr}
  }
</style>
</head>
<body>

<div class="container">
  <!-- NAV -->
  <div class="nav-panel" data-aos="fade-down">
    <div style="display:flex;gap:12px;align-items:center">
       <svg width="46" height="46" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="6" y="36" rx="12" width="108" height="60" fill="#0b0b0c" stroke="url(#g1)" stroke-width="3"/>
        <defs>
          <linearGradient id="g1" x1="0" x2="1"><stop offset="0" stop-color="#FF7A1A"/><stop offset="1" stop-color="#C99D2D"/></linearGradient>
        </defs>
        <path d="M10 56h18" stroke="#FF7A1A" stroke-width="3" stroke-linecap="round"/>
        <path d="M10 72h26" stroke="#C99D2D" stroke-width="3" stroke-linecap="round"/>
      </svg>
      <div class="brand">
        <h1>Cravers</h1>
        <p>Warm food delivered fast</p>
      </div>
    </div>

    <div class="top-actions">
      <div class="text-light d-none d-md-block">Akwa Ibom • 9am–5pm</div>
      <button class="btn-gold"id="btnContact">Contact</button>
      <button class="btn-gold" id="navOrder">Order on WhatsApp <i class="fa fa-whatsapp ms-2"></i></button>
    </div>
  </div>

  <!-- HERO -->
  <div class="hero" data-aos="fade-up" data-aos-duration="800">
    <div class="hero-card">
      <h2>Hot meals, kept warm — delivered fast.</h2>
      <p>Cravers uses thermal packaging and quick dispatch to make sure your meal arrives warm and delicious. Browse our menu, pick your toppings, and place your order easily on WhatsApp.</p>

      <div style="margin-top:14px;display:flex;gap:10px;flex-wrap:wrap">
        <button class="btn-gold" id="heroOrder">Order Now</button>
        <button class="btn-ghost" onclick="document.getElementById('menu').scrollIntoView({behavior:'smooth'})">See Menu</button>
      </div>

      <div style="margin-top:16px;color:rgba(220,215,210,0.7);font-size:13px">Delivery coverage: Ikot Ekpene (expanding) • Opening: 9am — 5pm</div>
    </div>

    <div class="food-card" data-aos="zoom-in" data-aos-duration="900">
      <img src="images/Jollof Rice Recipe.jpeg" alt="Jollof Rice">
      <div class="food-label">
        <div>
          <div style="font-weight:800">Jollof Rice</div>
          <div style="color:rgba(220,215,210,0.75);font-size:13px">Signature rice with perfect seasoning</div>
        </div>
        <div style="text-align:right">
          <div class="price">₦1,500</div>
          <div style="margin-top:8px">
            <button class="btn-gold btn-sm" id="quickOrderRice"><i class="fa fa-whatsapp me-1"></i> Quick</button>
          </div>
        </div>
      </div>
    </div>
  </div> <!-- /hero -->

  <!-- MENU -->
  <section id="menu" class="menu" data-aos="fade-up" data-aos-delay="80">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <h3>Menu</h3>
      <div style="color:rgba(220,215,210,0.7)">Select items, set quantities & toppings, then proceed to order form</div>
    </div>

    <div class="menu-grid" style="margin-top:12px">
      <!-- Item: Rice & Stew -->
      <div class="menu-item" data-aos="fade-up">
        <div class="meta">
          <h5>Rice & Stew</h5>
          <div class="small">Comfort rice with warm stew</div>
        </div>
        <div style="text-align:right">
          <div class="price">₦1,750</div>
          <div style="margin-top:8px;display:flex;gap:8px;align-items:center;justify-content:flex-end">
            <input type="checkbox" class="menu-check" data-name="Rice & Stew" data-price="1750" id="chk-rice">
            <input type="number" min="1" value="1" class="qty-input d-none qty-rice" style="width:84px">
          </div>
        </div>
      </div>

      <!-- Pepper Soup Rice + Goat Meat -->
      <div class="menu-item" data-aos="fade-up" data-aos-delay="40">
        <div class="meta">
          <h5>Pepper Soup Rice + Goat Meat</h5>
          <div class="small">Spicy pepper soup with tender goat</div>
        </div>
        <div style="text-align:right">
          <div class="price">₦2,500</div>
          <div style="margin-top:8px;display:flex;gap:8px;align-items:center;justify-content:flex-end">
            <input type="checkbox" class="menu-check" data-name="Pepper Soup Rice + Goat Meat" data-price="2500" id="chk-pepper">
            <input type="number" min="1" value="1" class="qty-input d-none qty-pepper" style="width:84px">
          </div>
        </div>
      </div>

      <!-- Afang -->
      <div class="menu-item" data-aos="fade-up" data-aos-delay="80">
        <div class="meta"><h5>Afang Soup</h5><div class="small">Traditional Afang with rich greens</div></div>
        <div style="text-align:right">
          <div class="price">₦1,950</div>
          <div style="margin-top:8px;display:flex;gap:8px;align-items:center;justify-content:flex-end">
            <input type="checkbox" class="menu-check" data-name="Afang Soup" data-price="1950" id="chk-afang">
            <input type="number" min="1" value="1" class="qty-input d-none qty-afang" style="width:84px">
          </div>
        </div>
      </div>

      <!-- Edikang -->
      <div class="menu-item" data-aos="fade-up" data-aos-delay="100">
        <div class="meta"><h5>Edikang Ikong (Melon)</h5><div class="small">Hearty vegetable soup</div></div>
        <div style="text-align:right">
          <div class="price">₦1,950</div>
          <div style="margin-top:8px;display:flex;gap:8px;align-items:center;justify-content:flex-end">
            <input type="checkbox" class="menu-check" data-name="Edikang Ikong (Melon)" data-price="1950" id="chk-edika">
            <input type="number" min="1" value="1" class="qty-input d-none qty-edika" style="width:84px">
          </div>
        </div>
      </div>

      <!-- Okro -->
      <div class="menu-item" data-aos="fade-up" data-aos-delay="140">
        <div class="meta"><h5>Okro Soup</h5><div class="small">Okro with your choice of protein</div></div>
        <div style="text-align:right">
          <div class="price">₦1,950</div>
          <div style="margin-top:8px;display:flex;gap:8px;align-items:center;justify-content:flex-end">
            <input type="checkbox" class="menu-check" data-name="Okro Soup" data-price="1950" id="chk-okro">
            <input type="number" min="1" value="1" class="qty-input d-none qty-okro" style="width:84px">
          </div>
        </div>
      </div>

      <!-- Atama -->
      <div class="menu-item" data-aos="fade-up" data-aos-delay="170">
        <div class="meta"><h5>Atama Soup</h5><div class="small">Palm fruit rich atama</div></div>
        <div style="text-align:right">
          <div class="price">₦1,950</div>
          <div style="margin-top:8px;display:flex;gap:8px;align-items:center;justify-content:flex-end">
            <input type="checkbox" class="menu-check" data-name="Atama Soup" data-price="1950" id="chk-atama">
            <input type="number" min="1" value="1" class="qty-input d-none qty-atama" style="width:84px">
          </div>
        </div>
      </div>

      <!-- White Soup -->
      <div class="menu-item" data-aos="fade-up" data-aos-delay="200">
        <div class="meta"><h5>White Soup (Nsala)</h5><div class="small">Delicate white soup</div></div>
        <div style="text-align:right">
          <div class="price">₦4,000</div>
          <div style="margin-top:8px;display:flex;gap:8px;align-items:center;justify-content:flex-end">
            <input type="checkbox" class="menu-check" data-name="White Soup (Nsala)" data-price="4000" id="chk-white">
            <input type="number" min="1" value="1" class="qty-input d-none qty-white" style="width:84px">
          </div>
        </div>
      </div>

      <!-- Extra meats -->
      <div class="menu-item" data-aos="fade-up" data-aos-delay="230">
        <div class="meta"><h5>Extra Cow Meat</h5><div class="small">₦300 per piece</div></div>
        <div style="text-align:right">
          <input type="number" min="0" value="0" class="cow-count" style="width:110px">
        </div>
      </div>

      <div class="menu-item" data-aos="fade-up" data-aos-delay="260">
        <div class="meta"><h5>Extra Goat Meat</h5><div class="small">₦400 per piece</div></div>
        <div style="text-align:right">
          <input type="number" min="0" value="0" class="goat-count" style="width:110px">
        </div>
      </div>

    </div>

    <div style="text-align:right;margin-top:16px">
      <button class="btn-gold" id="proceedToForm"><i class="fa fa-check-circle me-2"></i>Proceed to Order Form</button>
    </div>
  </section>

  <!-- ORDER FORM -->
  <section id="order" class="form-panel" data-aos="fade-up" style="margin-top:26px">
    <div style="display:flex;gap:18px;flex-wrap:wrap">
      <div style="flex:1;min-width:320px">
        <h4 style="margin-top:0">Complete your order</h4>
        <div style="color:rgba(220,215,210,0.75);font-size:13px;margin-bottom:12px">We'll open WhatsApp with a structured message for admin</div>

        <form id="orderForm">
          <div class="form-row" style="margin-bottom:10px">
            <div>
              <div class="label-small">Full Name</div>
              <input id="custName" required placeholder="Your full name">
            </div>
            <div>
              <div class="label-small">Phone</div>
              <input id="custPhone" required placeholder="e.g. 0903xxxxxxx">
            </div>
          </div>

          <div class="form-row" style="margin-bottom:10px">
            <div>
              <div class="label-small">Preferred Delivery Time</div>
              <input id="custTime" placeholder="e.g. 11:30 AM (optional)">
            </div>
            
            <div>
              <div class="label-small">Address</div>
              <input id="custAddress" required placeholder="House no, street, area">
            </div>
          </div>
          <div class="form-row" style="margin-bottom:10px">
            <div style="margin-bottom:12px">
            <div class="label-small">Order Notes (optional)</div>
            <textarea id="orderNotes" placeholder="e.g. no pepper, extra sauce"></textarea>
          </div>

          <div style="margin-bottom:10px">
            <div class="label-small">Selected Items</div>
            <textarea id="orderSummary" readonly placeholder="Selected items will appear here"></textarea>
          </div>
          </div>
          <div class="form-row" style="margin-bottom:10px">
            <div style="margin-bottom:10px">
            <div class="label-small">How did you hear about Cravers?</div>
            <select id="heardFrom">
              <option class="text-dark" value="">Choose...</option>
              <option class="text-dark">Instagram</option>
              <option class="text-dark">TikTok</option>
              <option class="text-dark">Facebook</option>
              <option class="text-dark">WhatsApp Status</option>
              <option class="text-dark">Friend / Family</option>
              <option class="text-dark">Cravers Rider</option>
              <option class="text-dark">Google</option>
              <option class="text-dark">Other</option>
            </select>
          </div>

          <div style="margin-bottom:12px">
            <div class="label-small">Referrer social handle / name (optional)</div>
            <input id="referrer" placeholder="e.g. @amaka_gold or 'Joseph (rider)'" />
          </div>
          </div>

          <div style="display:flex;gap:8px;flex-wrap:wrap">
            <button type="submit" class="btn-gold"><i class="fa fa-paper-plane me-2"></i>Send Order to WhatsApp</button>
          </div>
        </form>
      </div>

      <!-- right column: testimonials, track -->
      <div style="width:360px;min-width:260px">
        <div class="testimonials" data-aos="fade-left">
          <h5>Testimonials</h5>
          <div id="testCarousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner" id="carouselInner">
              <!-- testimonials injected here -->
              <div class="carousel-item active">
                <div class="card p-3">
                  <strong>Ijeoma</strong>
                  <div class="small text-light">"Hot and fast — ordered for the office and everyone loved it."</div>
                </div>
              </div>
              <div class="carousel-item">
                <div class="card p-3">
                  <strong>Emem</strong>
                  <div class="small text-light">"Delivered warm. Great packaging and taste."</div>
                </div>
              </div>
            </div>
          </div>

          <div style="margin-top:10px;display:flex;gap:8px">
            <button class="btn-ghost" id="openAddTest">Add Testimonial</button>
          </div>
        </div>

        <div style="margin-top:14px" data-aos="fade-left" data-aos-delay="80">
          <h6>Track your order</h6>
          <div class="track-card">
            <div class="label-small">Order phone / reference</div>
            <input id="trackInput" placeholder="Order phone or ID">
            <div style="margin-top:8px;display:flex;gap:8px">
              <button class="btn-ghost" id="trackBtn">Request Tracking</button>
              <button class="btn-ghost" id="trackWhats">Chat Support</button>
            </div>
            <div style="margin-top:8px;color:rgba(220,215,210,0.75);font-size:13px">Note: Track requests open WhatsApp to admin — we don't store order IDs here.</div>
          </div>
        </div>

        <div style="margin-top:14px" data-aos="fade-left" data-aos-delay="120">
          <h6>Gallery</h6>
          <div class="gallery-grid">
            <img src="images/abak.jpg.jpeg" alt="">
            <img src="images/Afang.jpg.jpeg" alt="">
            <img src="images/atama.jpg.jpeg" alt="">
            <img src="images/Jollof Rice Recipe.jpeg" alt="">
          </div>
        </div>
      </div>

    </div>
  </section>

  <footer style="text-align:center;margin-top:28px;color:rgba(220,215,210,0.6)">© <span id="year"></span> Cravers — Warm food delivered fast • Built for Akwa Ibom</footer>
</div>

<!-- Floating actions -->
<div class="floating">
  <button class="fab" id="fabChat" title="Chat with admin"><i class="fa fa-comments"></i></button>
  <button class="fab ghost" id="fabComplain" title="Report a complaint"><i class="fa fa-exclamation"></i></button>
</div>

<div id="toast" class="toast"></div>

<!-- Modals (Add Testimonial) -->
<!-- Add Testimonial Modal -->
<div class="modal fade" id="addTestModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content" style="background:var(--panel);color:var(--muted);border:none">
      <div class="modal-header" style="border-bottom:1px solid rgba(255,255,255,0.03)">
        <h5 class="modal-title">Add Testimonial (admin)</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="mb-2"><label class="label-small">Name</label><input id="testName" class="form-control" placeholder="Customer name"></div>
        <div class="mb-2"><label class="label-small">Testimonial</label><textarea id="testMsg" class="form-control" placeholder="Short testimonial"></textarea></div>
      </div>
      <div class="modal-footer" style="border-top:1px solid rgba(255,255,255,0.03)">
        <button type="button" class="btn-ghost" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn-gold" id="saveTest">Save</button>
      </div>
    </div>
  </div>
</div>

<!-- scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
<script>
AOS.init({duration:700,once:true});

/* ====== CONFIG ====== */
const WHATSAPP_NUMBER = '2349013736810';
const WA_BASE = 'https://wa.me/' + WHATSAPP_NUMBER + '?text=';

/* helpers */
const el = s => document.querySelector(s);
const els = s => Array.from(document.querySelectorAll(s));
document.getElementById('year').textContent = new Date().getFullYear();

/* menu UI: show qty when checkbox toggled */
els('.menu-check').forEach(cb=>{
  cb.addEventListener('change', e=>{
    const id = e.target.id;
    const suffix = id.split('-')[1];
    const qty = document.querySelector('.qty-' + suffix);
    if(qty) qty.classList.toggle('d-none', !e.target.checked);
    updateOrderSummary();
  });
});
els('.qty-input').forEach(q => q.addEventListener('input', updateOrderSummary));
el('.cow-count').addEventListener('input', updateOrderSummary);
el('.goat-count').addEventListener('input', updateOrderSummary);

/* quick actions */
el('#proceedToForm').addEventListener('click', ()=>{ document.getElementById('order').scrollIntoView({behavior:'smooth'}); updateOrderSummary(); });
el('#heroOrder').addEventListener('click', ()=>document.getElementById('order').scrollIntoView({behavior:'smooth'}));
el('#navOrder').addEventListener('click', ()=>document.getElementById('order').scrollIntoView({behavior:'smooth'}));
el('#quickOrderRice').addEventListener('click', ()=>{
  const chk = el('#chk-rice'); if(!chk.checked){ chk.checked=true; chk.dispatchEvent(new Event('change')); el('.qty-rice').classList.remove('d-none'); }
  document.getElementById('order').scrollIntoView({behavior:'smooth'}); updateOrderSummary();
});

/* update order summary */
function updateOrderSummary(){
  let items = [];
  els('.menu-check:checked').forEach(chk=>{
    const name = chk.dataset.name;
    const price = chk.dataset.price;
    const suffix = chk.id.split('-')[1];
    const qtyInput = document.querySelector('.qty-' + suffix);
    const qty = qtyInput ? (parseInt(qtyInput.value)||1) : 1;
    items.push(`${name} x${qty} (₦${(price*qty).toLocaleString()})`);
  });
  const cow = parseInt(el('.cow-count').value||0);
  const goat = parseInt(el('.goat-count').value||0);
  if(cow>0) items.push(`Cow Meat x${cow} (₦${(300*cow).toLocaleString()})`);
  if(goat>0) items.push(`Goat Meat x${goat} (₦${(400*goat).toLocaleString()})`);
  el('#orderSummary').value = items.length?items.join('\\n'):'No items selected yet';
}

/* Order form submit -> build WA message */
el('#orderForm').addEventListener('submit', function(e){
  e.preventDefault();
  const name = el('#custName').value.trim();
  const phone = el('#custPhone').value.trim();
  const time = el('#custTime').value.trim() || 'ASAP';
  const address = el('#custAddress').value.trim();
  const notes = el('#orderNotes').value.trim() || 'None';
  const summary = el('#orderSummary').value.trim();

  const heard = el('#heardFrom').value || 'Not specified';
  const ref = el('#referrer').value.trim() || 'None';
  const drinks = el('#drinks').value || 'None';
  const cowPieces = el('#cowPieces').value || '0';
  const goatPieces = el('#goatPieces').value || '0';

  if(!name || !phone || !address || !summary || summary==='No items selected yet'){
    alert('Please fill name, phone, address and select at least one menu item.');
    return;
  }

  let msg = `Hello Cravers!%0A%0AI want to place an order.%0A%0AName: ${encodeURIComponent(name)}%0APhone: ${encodeURIComponent(phone)}%0APreferred delivery time: ${encodeURIComponent(time)}%0AAddress: ${encodeURIComponent(address)}%0A%0AOrder Items:%0A${encodeURIComponent(summary)}%0A%0AExtras:%0ACow Meat pieces: ${encodeURIComponent(cowPieces)}%0AGoat Meat pieces: ${encodeURIComponent(goatPieces)}%0ADrinks: ${encodeURIComponent(drinks)}%0A%0AReferral:%0AHow heard: ${encodeURIComponent(heard)}%0AReferrer: ${encodeURIComponent(ref)}%0A%0ANotes: ${encodeURIComponent(notes)}%0A%0AThanks!`;
  window.open(WA_BASE + msg, '_blank');
  showToast('WhatsApp opened — send your order to confirm');
});

/* Chat / Complaint & Contact */
el('#btnContact').addEventListener('click', ()=> { window.open(WA_BASE + encodeURIComponent('Hello Cravers! I have an inquiry.'),'_blank'); });
el('#fabChat').addEventListener('click', ()=> { window.open(WA_BASE + encodeURIComponent('Hello Cravers! I would like to chat about an order.'),'_blank'); });
el('#fabComplain').addEventListener('click', ()=> { window.open(WA_BASE + encodeURIComponent('Hello Cravers! I want to report a complaint:'),'_blank'); });
el('#trackBtn').addEventListener('click', ()=> {
  const ref = el('#trackInput').value.trim() || 'No reference';
  const text = encodeURIComponent(`Hello Cravers! I want to track my order. Reference / phone: ${ref}`);
  window.open(WA_BASE + text, '_blank');
});
el('#trackWhats').addEventListener('click', ()=> { window.open(WA_BASE + encodeURIComponent('Hello Cravers! I need help tracking my order.'),'_blank'); });

/* Bot flow quick steps */
el('#startBotFlow').addEventListener('click', ()=> {
  window.open(WA_BASE + encodeURIComponent('Hello Cravers! I will follow the guided order steps. Please prompt Step 1.'), '_blank');
});
el('#botStep1')?.addEventListener('click', ()=> window.open(WA_BASE + encodeURIComponent('Step 1: My full name is:'), '_blank'));
el('#botStep2')?.addEventListener('click', ()=> window.open(WA_BASE + encodeURIComponent('Step 2: My phone number is:'), '_blank'));

/* Toast */
function showToast(text){
  const t = el('#toast');
  t.textContent = text; t.style.display='block';
  setTimeout(()=> t.style.display='none',3800);
}

/* Testimonials: localStorage CRUD (admin-only) */
function loadTestimonials(){
  const raw = localStorage.getItem('cravers_testimonials');
  if(!raw) return;
  try{
    const arr = JSON.parse(raw);
    const container = el('#carouselInner');
    // clear existing except default first two (we'll rebuild)
    container.innerHTML = '';
    arr.forEach((t,i)=>{
      const item = document.createElement('div');
      item.className = 'carousel-item' + (i===0?' active':'');
      item.innerHTML = `<div class="card p-3"><strong>${escapeHtml(t.name)}</strong><div class="small text-light">${escapeHtml(t.msg)}</div></div>`;
      container.appendChild(item);
    });
    // if empty, add defaults
    if(arr.length===0){
      container.innerHTML = `<div class="carousel-item active"><div class="card p-3"><strong>Ijeoma</strong><div class="small text-light">"Hot and fast — ordered for the office and everyone loved it."</div></div></div>`;
    }
  }catch(e){ console.warn('testimonials load err',e); }
}
function saveTestimonial(name, msg){
  const raw = localStorage.getItem('cravers_testimonials');
  const arr = raw? JSON.parse(raw) : [];
  arr.unshift({name,msg});
  localStorage.setItem('cravers_testimonials', JSON.stringify(arr.slice(0,10)));
  loadTestimonials();
  showToast('Testimonial saved locally (admin)');
}
function clearTestimonials(){
  localStorage.removeItem('cravers_testimonials');
  loadTestimonials();
  showToast('Local testimonials cleared');
}
function escapeHtml(s){ return s.replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;'); }

/* modal logic for add testimonial */
const addTestModal = new bootstrap.Modal(document.getElementById('addTestModal'));
el('#openAddTest').addEventListener('click', ()=> addTestModal.show());
el('#saveTest').addEventListener('click', ()=> {
  const n = el('#testName').value.trim(); const m = el('#testMsg').value.trim();
  if(!n || !m){ alert('Please fill both name and message'); return; }
  saveTestimonial(n,m);
  el('#testName').value=''; el('#testMsg').value='';
  addTestModal.hide();
});
el('#clearTest').addEventListener('click', ()=> { if(confirm('Clear local testimonials?')) clearTestimonials(); });

/* init */
loadTestimonials();
updateOrderSummary();
</script>
</body>
</html>
